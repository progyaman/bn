<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
>
<h:head>
   <f:facet name="first">
      <meta charset="utf-8"/>
      <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no"/>
      <link href="#{resource['poseidon-layout:images/icon.png']}" rel="icon" type="image/png" sizes="32x32"/>
   </f:facet>
   <title><ui:insert name="title">البيان</ui:insert></title>
   <h:outputStylesheet library="printers" name="bootstrap.min.css"/>
   <h:outputStylesheet library="printers" name="styles.css"/>
   <h:outputScript name="bootstrap.min.js" library="printers"/>
   <h:outputScript name="jquery.min.js" library="printers"/>
   <script>
      window.onload = function (){
         const tdList = document.getElementsByTagName('td');
         const trList = document.getElementsByClassName('table-row');
         const firstCols = document.getElementsByClassName('first-col');
         notZeroBackground(tdList);
         firstColBackground(firstCols);
         sumRows(tdList,trList);
         sumCols(tdList,trList);
      }
      function notZeroBackground(tdList){
         for (let i = 0; i &lt; tdList.length; i++) {
            if(tdList[i].innerText != 0){
               tdList[i].style.backgroundColor = '#e1fff0';
            }
         }
      }
      function firstColBackground(firstCols){
         for (let i = 0; i &lt; firstCols.length; i++) {
            if(firstCols[i].innerText != 0){
               firstCols[i].style.backgroundColor = '#ddeeff';
            }
         }
      }
      function sumRows(tdList, trList){
         let sum = 0;
         for (let i = 0; i &lt; trList.length - 1; i++) {
            for (let j = 1; j &lt; trList[i].cells.length - 1; j++) {
               sum += parseInt(trList[i].cells[j].innerText);
            }
            if (trList[i].cells[trList[i].cells.length -1].innerText == ''){
               trList[i].cells[trList[i].cells.length -1].innerText = sum;
            }
            sum = 0;
         }
      }


   </script>
</h:head>
<body dir="rtl" style="text-align: right">
   <ui:insert name="content"/>
</body>
</html>
